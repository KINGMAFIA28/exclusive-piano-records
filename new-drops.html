<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exclusive Piano Records | New Drops</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="description" content="Latest unreleased Amapiano tracks from top African producers">
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo">Exclusive Piano Records</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="new-drops.html" class="active" aria-current="page">New Drops</a></li>
                    <li><a href="playlist.html">Playlist</a></li>
                    <li><a href="producers.html">Producers</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <button id="theme-toggle" class="btn btn-small" aria-label="Toggle dark mode">
                    <i class="fas fa-sun"></i> Light Mode
                </button>
            </nav>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h2>Latest Drops</h2>
                <p>Fresh unreleased Amapiano tracks updated weekly</p>
                <div class="filter-controls">
                    <div class="filter-group">
                        <label for="genre-filter">Filter by Genre:</label>
                        <select id="genre-filter" aria-label="Filter tracks by genre">
                            <option value="all">All Genres</option>
                            <option value="amapiano">Amapiano</option>
                            <option value="gqom">Gqom</option>
                            <option value="afrohouse">Afro House</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="sort-by">Sort by:</label>
                        <select id="sort-by" aria-label="Sort tracks">
                            <option value="newest">Newest First</option>
                            <option value="popular">Most Popular</option>
                            <option value="az">A-Z</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <section class="tracks-list">
            <div class="container">
                <div class="tracks-grid" id="tracks-container">
                    <!-- Skeleton loading state -->
                    <div class="skeleton-track">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-text"></div>
                        <div class="skeleton-text short"></div>
                        <div class="skeleton-audio"></div>
                        <div class="skeleton-button"></div>
                    </div>
                    <div class="skeleton-track">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-text"></div>
                        <div class="skeleton-text short"></div>
                        <div class="skeleton-audio"></div>
                        <div class="skeleton-button"></div>
                    </div>
                    <div class="skeleton-track">
                        <div class="skeleton-image"></div>
                        <div class="skeleton-text"></div>
                        <div class="skeleton-text short"></div>
                        <div class="skeleton-audio"></div>
                        <div class="skeleton-button"></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="load-more">
            <div class="container">
                <button id="load-more-btn" class="btn btn-outline">
                    <i class="fas fa-sync-alt"></i> Load More Tracks
                </button>
                <p class="track-count">Showing <span id="shown-count">0</span> of <span id="total-count">0</span> tracks</p>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Exclusive Piano Records</h3>
                    <p>Bringing you the hottest unreleased Amapiano tracks from across Africa.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="new-drops.html">New Drops</a></li>
                        <li><a href="playlist.html">Playlist</a></li>
                        <li><a href="producers.html">Producers</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Follow Us</h3>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="SoundCloud"><i class="fab fa-soundcloud"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Exclusive Piano Records. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Simulate loading tracks after delay
        document.addEventListener('DOMContentLoaded', function () {
            setTimeout(() => {
                const tracksContainer = document.getElementById('tracks-container');
                tracksContainer.innerHTML = '';

                const tracksData = [
                    {
                        id: 1,
                        title: "Johannesburg Nights",
                        artist: "Kabza De Small",
                        genre: "amapiano",
                        date: "2 days ago",
                        duration: "3:45",
                        plays: "24,501",
                        cover: "Media/kabzadesmalllatestdrops.jpg",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    },
                    {
                        id: 2,
                        title: "Soweto Sunset",
                        artist: "DJ Maphorisa",
                        genre: "amapiano",
                        date: "1 week ago",
                        duration: "4:12",
                        plays: "18,327",
                        cover: "Media/djmaphorisalatestdrops.jpg",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    },
                    {
                        id: 3,
                        title: "Durban Waves",
                        artist: "DJ Tira",
                        genre: "gqom",
                        date: "2 weeks ago",
                        duration: "3:18",
                        plays: "12,845",
                        cover: "Media/djtiralatestdrops.png",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    },
                    {
                        id: 4,
                        title: "Lagos Groove",
                        artist: "Black Coffee",
                        genre: "afrohouse",
                        date: "3 weeks ago",
                        duration: "5:22",
                        plays: "32,156",
                        cover: "Media/blackcoffeelatestdrops.jpg",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    },
                    {
                        id: 5,
                        title: "Pretoria Heat",
                        artist: "Major League DJz",
                        genre: "amapiano",
                        date: "1 month ago",
                        duration: "3:55",
                        plays: "15,892",
                        cover: "Media/majorleaguedjzlatestdrops.jpg",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    },
                    {
                        id: 6,
                        title: "Cape Town Breeze",
                        artist: "MFR Souls",
                        genre: "amapiano",
                        date: "1 month ago",
                        duration: "4:08",
                        plays: "21,403",
                        cover: "Media/mfrsoulslatestdrops.jpg",
                        audio: "Media/kabzadesmalltrackfeaturedthisweek.mp3"
                    }
                ];

                tracksData.forEach(track => {
                    const trackCard = document.createElement('div');
                    trackCard.className = `track-card ${track.genre}`;
                    trackCard.innerHTML = `
                            <div class="track-image-container">
                                <img src="${track.cover}"
                                     alt="${track.artist} - ${track.title}"
                                     width="300"
                                     height="300"
                                     loading="lazy">
                                <button class="quick-add-btn" aria-label="Quick add to playlist">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <h3>${track.title}</h3>
                            <p class="artist">${track.artist}</p>
                            <div class="track-meta">
                                <span class="genre">${track.genre.charAt(0).toUpperCase() + track.genre.slice(1)}</span>
                                <span class="date">${track.date}</span>
                                <span class="plays"><i class="fas fa-headphones"></i> ${track.plays}</span>
                            </div>
                            <audio controls aria-label="Audio player for ${track.title}">
                                <source src="${track.audio}" type="audio/mpeg">
                            </audio>
                            <button class="btn btn-small add-to-playlist"
                                    data-track='${JSON.stringify(track)}'>
                                <i class="fas fa-plus"></i> Add to Playlist
                            </button>
                        `;
                    tracksContainer.appendChild(trackCard);
                });

                // Update track counts
                document.getElementById('shown-count').textContent = tracksData.length;
                document.getElementById('total-count').textContent = tracksData.length;

                // Initialize filter functionality
                const genreFilter = document.getElementById('genre-filter');
                const sortBy = document.getElementById('sort-by');

                genreFilter.addEventListener('change', filterTracks);
                sortBy.addEventListener('change', filterTracks);

                function filterTracks() {
                    const genre = genreFilter.value;
                    const sort = sortBy.value;
                    const trackCards = document.querySelectorAll('.track-card');

                    // Filter by genre
                    trackCards.forEach(card => {
                        if (genre === 'all' || card.classList.contains(genre)) {
                            card.style.display = 'block';
                        } else {
                            card.style.display = 'none';
                        }
                    });

                    // Sort tracks
                    const tracksGrid = document.querySelector('.tracks-grid');
                    const tracks = Array.from(trackCards)
                        .filter(card => card.style.display !== 'none');

                    if (sort === 'newest') {
                        tracks.sort((a, b) => {
                            const aDate = a.querySelector('.date').textContent;
                            const bDate = b.querySelector('.date').textContent;
                            return new Date(bDate) - new Date(aDate);
                        });
                    } else if (sort === 'popular') {
                        tracks.sort((a, b) => {
                            const aPlays = parseInt(a.querySelector('.plays').textContent.replace(/,/g, ''));
                            const bPlays = parseInt(b.querySelector('.plays').textContent.replace(/,/g, ''));
                            return bPlays - aPlays;
                        });
                    } else if (sort === 'az') {
                        tracks.sort((a, b) => {
                            const aTitle = a.querySelector('h3').textContent;
                            const bTitle = b.querySelector('h3').textContent;
                            return aTitle.localeCompare(bTitle);
                        });
                    }

                    // Re-append sorted tracks
                    tracks.forEach(track => {
                        tracksGrid.appendChild(track);
                    });
                }

                // Load more functionality
                document.getElementById('load-more-btn').addEventListener('click', function () {
                    // In a real app, this would fetch more tracks from an API
                    this.disabled = true;
                    this.innerHTML = '<i class="fas fa-check"></i> All Tracks Loaded';
                });

            }, 1500); // 1.5 second loading delay
        });
    </script>
    <script src="script.js"></script>
</body>
</html>
